<form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)">

    <div class="form-group">
        <label>
            Введите размер квадратной матрицы от 3 до 2000
        </label>
        <input class="form-control" type="number" #count="ngModel" [(ngModel)]="valueCount" ngModel name="count" required pattern="^([3-9]|[1-9][0-9]|[1-9][0-9][0-9]|1[0-9][0-9][0-9]|2000)$" (ngModelChange)="onCheckMultiplicity(count)"  />
    </div>

    <div *ngIf="isCounts">
        <label>
            Введите размер квадратной матрицы от 3 до 2000
        </label>
        <div>
            <button class="btn btn-default" (click)="onClickRand(myForm)">Установить случайные значения</button>
        </div>
        
        <div class="form-group">
            <input type="submit" [disabled]="myForm.invalid" class="btn btn-default" value="Отправить" />
        </div>
    </div>
        <div *ngFor="let item of counts">
            <span class="form-group">
                <input class="form-control" type="text" ngModel name="matrix{{item}}" required pattern="{{patternMatrix}}"  [(ngModel)]="valueMatrix[item]"/>
            </span>
        </div>



</form>